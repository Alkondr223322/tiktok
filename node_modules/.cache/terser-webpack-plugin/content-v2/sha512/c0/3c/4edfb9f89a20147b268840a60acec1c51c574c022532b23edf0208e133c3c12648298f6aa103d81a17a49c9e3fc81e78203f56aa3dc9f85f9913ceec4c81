{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){n(1),e.exports=n(2)},function(e,t){const n=document.querySelector(\".field\");function o(e,t,n){for(let o=0;o<t;o++){const t=3*n+o,r=document.createElement(\"div\");r.id=\"c-\"+t,r.dataset.id=t,r.className=\"cell\",e.appendChild(r)}}!function(e,t){for(let r=0;r<e;r++){const e=document.createElement(\"div\");e.className=\"row\",o(e,t,r),n.appendChild(e)}}(3,3)},function(e,t){let n=document.querySelectorAll(\"[data-id]\"),o=localStorage,r=!1;function s(e,t){let r=parseInt(e.getAttribute(\"data-id\"),10),s=!0,c=!0,d=[];o.setItem(\"moves\",o.getItem(\"moves\")+` ${r},${t}`),o.setItem(\"move\",+o.getItem(\"move\")+1),o.setItem(\"undoneMoves\",\"\");let u=r%ROWS_COUNT;for(let e=u;e<n.length;e+=COLS_COUNT)n[e].classList.contains(t)||(s=!1);if(s){for(let e=u;e<n.length;e+=COLS_COUNT)d.push(n[e]);return void l(t,\"vertical\",d)}s=!0,d=[];let i=Math.floor(r/COLS_COUNT);for(let e=0;e<COLS_COUNT;e++)n[e+ROWS_COUNT*i].classList.contains(t)||(s=!1);if(s){for(let e=0;e<COLS_COUNT;e++)d.push(n[e+ROWS_COUNT*i]);l(t,\"horizontal\",d)}else{if(i==u){s=!0,d=[];for(let e=0;e<n.length;e+=COLS_COUNT+1)n[e].classList.contains(t)||(s=!1);if(s){for(let e=0;e<n.length;e+=COLS_COUNT+1)d.push(n[e]);return void l(t,\"diagonal-right\",d)}}s=!0,d=[];for(let e=COLS_COUNT-1;e<n.length-COLS_COUNT+1;e+=COLS_COUNT-1)n[e].classList.contains(t)||(s=!1);if(s){for(let e=COLS_COUNT-1;e<n.length-COLS_COUNT+1;e+=COLS_COUNT-1)d.push(n[e]);l(t,\"diagonal-left\",d)}else{for(let e=0;e<n.length;e++)n[e].classList.contains(\"ch\")||n[e].classList.contains(\"r\")||(c=!1);c&&0==document.querySelector(\".won-message\").innerHTML.length&&l(\"draw\",\"\",\"\")}}}function l(e,t,n){if(r=!0,console.log(e),document.querySelector(\".redo-btn\").disabled=!0,document.querySelector(\".undo-btn\").disabled=!0,document.querySelector(\".won-title\").classList.remove(\"hidden\"),\"draw\"!=e){document.querySelector(\".won-message\").innerHTML=\"ch\"==e?\"Crosses won\":\"Rounds won\";for(let e=0;e<n.length;e++)n[e].classList.add(\"win\"),n[e].classList.add(t)}else document.querySelector(\".won-message\").innerHTML=\"It's a draw!\"}function c(e){let t=e.split(\",\")[0],n=e.split(\",\")[1];document.querySelector(\"#c-\"+t).classList.add(n)}window.onload=function(){if(o.getItem(\"moves\")){document.querySelector(\".undo-btn\").disabled=!1;let e=o.getItem(\"moves\").split(\" \");for(let t=1;t<e.length;t++)c(e[t]);0!=o.getItem(\"undoneMoves\").length&&(document.querySelector(\".redo-btn\").disabled=!1)}else o.setItem(\"current\",\"1\"),o.setItem(\"move\",\"0\"),o.setItem(\"moves\",\"\"),o.setItem(\"undoneMoves\",\"\")},field.onclick=function(e){if(r)return;let t=+o.getItem(\"current\"),n=e.target;n.classList.contains(\"cell\")&&(document.querySelector(\".redo-btn\").disabled=!0,document.querySelector(\".undo-btn\").disabled=!1,t?n.classList.add(\"ch\"):n.classList.add(\"r\"),s(n,t?\"ch\":\"r\"),t?o.setItem(\"current\",0):o.setItem(\"current\",1))},document.querySelector(\".restart-btn\").onclick=function(){r=!1,o.setItem(\"move\",\"0\"),o.removeItem(\"moves\"),o.setItem(\"current\",1),document.querySelector(\".won-title\").classList.add(\"hidden\"),document.querySelector(\".won-message\").innerHTML=\"\";for(let e=0;e<n.length;e++)n[e].className=\"\",n[e].classList.add(\"cell\")},document.querySelector(\".undo-btn\").onclick=function(){document.querySelector(\".redo-btn\").disabled=!1;let e=o.getItem(\"moves\").split(\" \");!function(e){let t=e.split(\",\")[0],n=e.split(\",\")[1];document.querySelector(\"#c-\"+t).classList.remove(n)}(e[o.getItem(\"move\")]),o.setItem(\"move\",+o.getItem(\"move\")-1),o.setItem(\"undoneMoves\",o.getItem(\"undoneMoves\")+\" \"+e.pop()),o.setItem(\"moves\",e.join(\" \")),+o.getItem(\"current\")?o.setItem(\"current\",0):o.setItem(\"current\",1),0==o.getItem(\"move\")&&(document.querySelector(\".undo-btn\").disabled=!0)},document.querySelector(\".redo-btn\").onclick=function(){document.querySelector(\".undo-btn\").disabled=!1,+o.getItem(\"current\")?o.setItem(\"current\",0):o.setItem(\"current\",1),arrOfUndoneMoves=o.getItem(\"undoneMoves\").split(\" \"),o.setItem(\"move\",+o.getItem(\"move\")+1),o.setItem(\"moves\",o.getItem(\"moves\")+\" \"+arrOfUndoneMoves[arrOfUndoneMoves.length-1]),c(arrOfUndoneMoves[arrOfUndoneMoves.length-1]),arrOfUndoneMoves.pop(),o.setItem(\"undoneMoves\",arrOfUndoneMoves.join(\" \")),console.log(o.getItem(\"move\")),0==o.getItem(\"undoneMoves\").length&&(document.querySelector(\".redo-btn\").disabled=!0)}}]);","extractedComments":[]}