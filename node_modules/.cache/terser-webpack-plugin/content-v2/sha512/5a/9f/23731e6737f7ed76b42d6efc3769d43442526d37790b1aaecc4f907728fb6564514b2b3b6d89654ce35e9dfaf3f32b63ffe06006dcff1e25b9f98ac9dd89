{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=2)}([function(e,t){const n=document.querySelector(\".field\");function o(e,t,n){for(let o=0;o<t;o++){const t=3*n+o,r=document.createElement(\"div\");r.id=\"c-\"+t,r.dataset.id=t,r.className=\"cell\",e.appendChild(r)}}!function(e,t){for(let r=0;r<e;r++){const e=document.createElement(\"div\");e.className=\"row\",o(e,t,r),n.appendChild(e)}}(3,3)},function(e,t){},function(e,t,n){n(0),n(1),e.exports=n(3)},function(e,t,n){\"use strict\";n.r(t);n(0),n(1);const o=document.querySelectorAll(\"[data-id]\"),r=localStorage;function c(e,t){let n=!0,r=!0,c=[];const s=e%ROWS_COUNT;for(let e=s;e<o.length;e+=COLS_COUNT)o[e].classList.contains(t)||(n=!1);if(n){for(let e=s;e<o.length;e+=COLS_COUNT)c.push(o[e]);return void declarewinner(t,\"vertical\",c)}n=!0,c=[];const l=Math.floor(e/COLS_COUNT);for(let e=0;e<COLS_COUNT;e+=1)o[e+ROWS_COUNT*l].classList.contains(t)||(n=!1);if(n){for(let e=0;e<COLS_COUNT;e+=1)c.push(o[e+ROWS_COUNT*l]);declarewinner(t,\"horizontal\",c)}else{if(l===s){n=!0,c=[];for(let e=0;e<o.length;e+=COLS_COUNT+1)o[e].classList.contains(t)||(n=!1);if(n){for(let e=0;e<o.length;e+=COLS_COUNT+1)c.push(o[e]);return void declarewinner(t,\"diagonal-right\",c)}}n=!0,c=[];for(let e=COLS_COUNT-1;e<o.length-COLS_COUNT+1;e+=COLS_COUNT-1)o[e].classList.contains(t)||(n=!1);if(n){for(let e=COLS_COUNT-1;e<o.length-COLS_COUNT+1;e+=COLS_COUNT-1)c.push(o[e]);declarewinner(t,\"diagonal-left\",c)}else{for(let e=0;e<o.length;e+=1)o[e].classList.contains(\"ch\")||o[e].classList.contains(\"r\")||(r=!1);r&&0===document.querySelector(\".won-message\").innerHTML.length&&declarewinner(\"draw\",\"\",\"\")}}}function s(){document.querySelector(\".won-title\").classList.add(\"hidden\"),document.querySelector(\".won-message\").innerHTML=\"\";for(let e=0;e<o.length;e+=1)o[e].className=\"\",o[e].classList.add(\"cell\");const e=r.getItem(\"moves\").split(\" \");for(let t=1;t<e.length;t+=1)doMove(e[t]);0!==r.getItem(\"undoneMoves\").length?document.querySelector(\".redo-btn\").disabled=!1:document.querySelector(\".redo-btn\").disabled=!0;const t=r.getItem(\"moves\").split(\" \")[+r.getItem(\"currentMove\")].split(\",\")[0],n=r.getItem(\"moves\").split(\" \")[+r.getItem(\"currentMove\")].split(\",\")[1];\"\"!==r.getItem(\"moves\")?document.querySelector(\".undo-btn\").disabled=!1:document.querySelector(\".undo-btn\").disabled=!0,c(t,n)}window.addEventListener(\"storage\",(function(){s()})),window.onload=function(){+r.getItem(\"started\")?s():(r.setItem(\"started\",\"1\"),r.setItem(\"currentPlayer\",\"1\"),r.setItem(\"currentMove\",\"0\"),r.setItem(\"moves\",\"\"),r.setItem(\"undoneMoves\",\"\"),document.querySelector(\".redo-btn\").disabled=!0,document.querySelector(\".undo-btn\").disabled=!0)},field.onclick=function(e){r.setItem(\"started\",\"1\");const t=+r.getItem(\"currentPlayer\"),{target:n}=e;if(n.classList.contains(\"cell\")){document.querySelector(\".redo-btn\").disabled=!0,document.querySelector(\".undo-btn\").disabled=!1;const e=parseInt(n.getAttribute(\"data-id\"),10);n.classList.add(t?\"ch\":\"r\"),r.setItem(\"moves\",`${r.getItem(\"moves\")} ${e}${t?\",ch\":\",r\"}`),r.setItem(\"currentMove\",+r.getItem(\"currentMove\")+1),r.setItem(\"undoneMoves\",\"\"),c(e,t?\"ch\":\"r\"),r.setItem(\"currentPlayer\",t?0:1)}},document.querySelector(\".restart-btn\").onclick=function(){r.setItem(\"currentMove\",\"0\"),r.setItem(\"moves\",\"\"),r.setItem(\"currentPlayer\",\"1\"),document.querySelector(\".won-title\").classList.add(\"hidden\"),document.querySelector(\".won-message\").innerHTML=\"\";for(let e=0;e<o.length;e+=1)o[e].className=\"\",o[e].classList.add(\"cell\");r.setItem(\"started\",\"0\")},document.querySelector(\".undo-btn\").onclick=function(){document.querySelector(\".redo-btn\").disabled=!1;const e=r.getItem(\"moves\").split(\" \");unDoMove(e[r.getItem(\"currentMove\")]),r.setItem(\"currentMove\",+r.getItem(\"currentMove\")-1),r.setItem(\"undoneMoves\",`${r.getItem(\"undoneMoves\")} ${e.pop()}`),r.setItem(\"moves\",e.join(\" \")),r.setItem(\"currentPlayer\",+r.getItem(\"currentPlayer\")?0:1),\"0\"===r.getItem(\"currentMove\")&&(document.querySelector(\".undo-btn\").disabled=!0)},document.querySelector(\".redo-btn\").onclick=function(){document.querySelector(\".undo-btn\").disabled=!1,r.setItem(\"currentPlayer\",+r.getItem(\"currentPlayer\")?0:1);const e=r.getItem(\"undoneMoves\").split(\" \");r.setItem(\"currentMove\",+r.getItem(\"currentMove\")+1),r.setItem(\"moves\",`${r.getItem(\"moves\")} ${e[e.length-1]}`),doMove(e[e.length-1]),e.pop(),r.setItem(\"undoneMoves\",e.join(\" \")),0===r.getItem(\"undoneMoves\").length&&(document.querySelector(\".redo-btn\").disabled=!0)}}]);","extractedComments":[]}