{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t){const n=document.querySelectorAll(\"[data-id]\"),o=localStorage;function r(e,t){let o=!0,r=!0,s=[];const c=e%ROWS_COUNT;for(let e=c;e<n.length;e+=COLS_COUNT)n[e].classList.contains(t)||(o=!1);if(o){for(let e=c;e<n.length;e+=COLS_COUNT)s.push(n[e]);return void declarewinner(t,\"vertical\",s)}o=!0,s=[];const l=Math.floor(e/COLS_COUNT);for(let e=0;e<COLS_COUNT;e+=1)n[e+ROWS_COUNT*l].classList.contains(t)||(o=!1);if(o){for(let e=0;e<COLS_COUNT;e+=1)s.push(n[e+ROWS_COUNT*l]);declarewinner(t,\"horizontal\",s)}else{if(l===c){o=!0,s=[];for(let e=0;e<n.length;e+=COLS_COUNT+1)n[e].classList.contains(t)||(o=!1);if(o){for(let e=0;e<n.length;e+=COLS_COUNT+1)s.push(n[e]);return void declarewinner(t,\"diagonal-right\",s)}}o=!0,s=[];for(let e=COLS_COUNT-1;e<n.length-COLS_COUNT+1;e+=COLS_COUNT-1)n[e].classList.contains(t)||(o=!1);if(o){for(let e=COLS_COUNT-1;e<n.length-COLS_COUNT+1;e+=COLS_COUNT-1)s.push(n[e]);declarewinner(t,\"diagonal-left\",s)}else{for(let e=0;e<n.length;e+=1)n[e].classList.contains(\"ch\")||n[e].classList.contains(\"r\")||(r=!1);r&&0===document.querySelector(\".won-message\").innerHTML.length&&declarewinner(\"draw\",\"\",\"\")}}}function s(){document.querySelector(\".won-title\").classList.add(\"hidden\"),document.querySelector(\".won-message\").innerHTML=\"\";for(let e=0;e<n.length;e+=1)n[e].className=\"\",n[e].classList.add(\"cell\");const e=o.getItem(\"moves\").split(\" \");for(let t=1;t<e.length;t+=1)doMove(e[t]);0!==o.getItem(\"undoneMoves\").length?document.querySelector(\".redo-btn\").disabled=!1:document.querySelector(\".redo-btn\").disabled=!0;const t=o.getItem(\"moves\").split(\" \")[+o.getItem(\"currentMove\")].split(\",\")[0],s=o.getItem(\"moves\").split(\" \")[+o.getItem(\"currentMove\")].split(\",\")[1];\"\"!==o.getItem(\"moves\")?document.querySelector(\".undo-btn\").disabled=!1:document.querySelector(\".undo-btn\").disabled=!0,r(t,s)}window.addEventListener(\"storage\",(function(){s()})),window.onload=function(){+o.getItem(\"started\")?s():(o.setItem(\"started\",\"1\"),o.setItem(\"currentPlayer\",\"1\"),o.setItem(\"currentMove\",\"0\"),o.setItem(\"moves\",\"\"),o.setItem(\"undoneMoves\",\"\"),document.querySelector(\".redo-btn\").disabled=!0,document.querySelector(\".undo-btn\").disabled=!0)},field.onclick=function(e){o.setItem(\"started\",\"1\");const t=+o.getItem(\"currentPlayer\"),{target:n}=e;if(n.classList.contains(\"cell\")){document.querySelector(\".redo-btn\").disabled=!0,document.querySelector(\".undo-btn\").disabled=!1;const e=parseInt(n.getAttribute(\"data-id\"),10);n.classList.add(t?\"ch\":\"r\"),o.setItem(\"moves\",`${o.getItem(\"moves\")} ${e}${t?\",ch\":\",r\"}`),o.setItem(\"currentMove\",+o.getItem(\"currentMove\")+1),o.setItem(\"undoneMoves\",\"\"),r(e,t?\"ch\":\"r\"),o.setItem(\"currentPlayer\",t?0:1)}},document.querySelector(\".restart-btn\").onclick=function(){o.setItem(\"currentMove\",\"0\"),o.setItem(\"moves\",\"\"),o.setItem(\"currentPlayer\",\"1\"),document.querySelector(\".won-title\").classList.add(\"hidden\"),document.querySelector(\".won-message\").innerHTML=\"\";for(let e=0;e<n.length;e+=1)n[e].className=\"\",n[e].classList.add(\"cell\");o.setItem(\"started\",\"0\")},document.querySelector(\".undo-btn\").onclick=function(){document.querySelector(\".redo-btn\").disabled=!1;const e=o.getItem(\"moves\").split(\" \");unDoMove(e[o.getItem(\"currentMove\")]),o.setItem(\"currentMove\",+o.getItem(\"currentMove\")-1),o.setItem(\"undoneMoves\",`${o.getItem(\"undoneMoves\")} ${e.pop()}`),o.setItem(\"moves\",e.join(\" \")),o.setItem(\"currentPlayer\",+o.getItem(\"currentPlayer\")?0:1),\"0\"===o.getItem(\"currentMove\")&&(document.querySelector(\".undo-btn\").disabled=!0)},document.querySelector(\".redo-btn\").onclick=function(){document.querySelector(\".undo-btn\").disabled=!1,o.setItem(\"currentPlayer\",+o.getItem(\"currentPlayer\")?0:1);const e=o.getItem(\"undoneMoves\").split(\" \");o.setItem(\"currentMove\",+o.getItem(\"currentMove\")+1),o.setItem(\"moves\",`${o.getItem(\"moves\")} ${e[e.length-1]}`),doMove(e[e.length-1]),e.pop(),o.setItem(\"undoneMoves\",e.join(\" \")),0===o.getItem(\"undoneMoves\").length&&(document.querySelector(\".redo-btn\").disabled=!0)}}]);","extractedComments":[]}